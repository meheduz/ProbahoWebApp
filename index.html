<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probaho - Cross-MFS Unified Wallet</title>
    <meta name="description" content="Your Money, Your Control. Unified wallet for seamless cross-MFS transfers in Bangladesh.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💰</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        secondary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                    }
                }
            }
        }
    </script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.0/dist/framer-motion.js"></script>
    
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
        }
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50">
    <!-- Navigation -->
    <nav class="bg-white/80 backdrop-blur-md shadow-lg border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold text-lg">P</span>
                    </div>
                    <span class="text-2xl font-bold text-gray-900">Probaho</span>
                </div>
                
                <div class="hidden md:flex space-x-2">
                    <a href="/" class="text-gray-700 hover:text-primary-600 px-4 py-3 text-sm font-semibold rounded-lg hover:bg-primary-50 transition-all duration-200">Dashboard</a>
                    <a href="/send-money" class="text-gray-700 hover:text-primary-600 px-4 py-3 text-sm font-semibold rounded-lg hover:bg-primary-50 transition-all duration-200">Send Money</a>
                    <a href="/add-money" class="text-gray-700 hover:text-primary-600 px-4 py-3 text-sm font-semibold rounded-lg hover:bg-primary-50 transition-all duration-200">Add Money</a>
                    <a href="/history" class="text-gray-700 hover:text-primary-600 px-4 py-3 text-sm font-semibold rounded-lg hover:bg-primary-50 transition-all duration-200">History</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="p-2 text-gray-400 hover:text-gray-500 relative">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 1 0-15 0v5h5l-5 5-5-5h5v-5a7.5 7.5 0 1 1 15 0v5z"/>
                        </svg>
                        <span class="absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"></span>
                    </button>
                    
                    <div class="relative">
                        <button class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                            <svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            <div class="hidden sm:block text-left">
                                <p class="text-sm font-medium text-gray-900" data-user-name>Probaho User</p>
                                <p class="text-xs text-gray-500" data-user-phone>+880 1XXX XXX XXX</p>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative overflow-hidden gradient-bg text-white">
        <div class="absolute inset-0">
            <div class="absolute inset-0 bg-gradient-to-r from-primary-800/20 to-secondary-800/20"></div>
            <div class="absolute inset-0 opacity-40">
                <div class="absolute inset-0 bg-gradient-to-r from-white/5 to-transparent"></div>
            </div>
        </div>
        
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32">
            <div class="text-center">
                <div class="inline-flex items-center space-x-3 mb-8">
                    <div class="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-white/30">
                        <span class="text-white font-bold text-2xl">P</span>
                    </div>
                    <span class="text-4xl font-bold">Probaho</span>
                </div>
                
                <h1 class="text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
                    Your Money, Your Control
                </h1>
                
                <p class="text-xl md:text-2xl mb-10 text-blue-100 max-w-4xl mx-auto leading-relaxed">
                    The unified wallet that breaks down barriers between mobile financial services in Bangladesh.
                    <span class="block mt-2 text-lg text-blue-200">
                        Send money to any MFS instantly, save 80% on fees, and enjoy bank-grade security.
                    </span>
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="/add-money" class="bg-white text-primary-600 hover:bg-gray-50 text-lg px-6 py-4 rounded-2xl font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 border border-white/20 inline-flex items-center justify-center w-full sm:w-auto">
                        <span class="flex items-center space-x-2">
                            <span>Get Started</span>
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                        </span>
                    </a>
                    <button class="bg-transparent border-2 border-white/50 text-white hover:bg-white hover:text-primary-600 text-lg px-6 py-4 rounded-2xl font-semibold backdrop-blur-sm transition-all duration-300 w-full sm:w-auto">
                        Learn More
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Floating elements -->
        <div class="absolute top-20 right-20 w-20 h-20 bg-white/10 rounded-full backdrop-blur-sm border border-white/20 animate-float"></div>
        <div class="absolute bottom-20 left-20 w-16 h-16 bg-white/10 rounded-full backdrop-blur-sm border border-white/20 animate-float" style="animation-delay: 1s;"></div>
    </section>

    <!-- Dashboard Section -->
    <section class="py-20 bg-gradient-to-br from-gray-50 via-white to-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Your Probaho Dashboard</h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">Manage your unified wallet, send money instantly, and track all your transactions</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
                <!-- Wallet Balance -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900">Wallet Balance</h3>
                            <div class="w-8 h-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold text-sm">P</span>
                            </div>
                        </div>
                        
                        <div class="text-center mb-6">
                            <div class="text-4xl font-bold text-gray-900 mb-2" data-balance>12,500 BDT</div>
                            <p class="text-sm text-gray-500">Total Available Balance</p>
                        </div>

                        <div class="space-y-3">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">MFS Balances</h4>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 rounded-full bg-pink-500"></div>
                                    <span class="text-sm font-medium text-gray-700">bKash</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-900" data-mfs-balance data-provider="bkash">2,500 BDT</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                                    <span class="text-sm font-medium text-gray-700">Nagad</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-900" data-mfs-balance data-provider="nagad">3,000 BDT</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                                    <span class="text-sm font-medium text-gray-700">Rocket</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-900" data-mfs-balance data-provider="rocket">4,000 BDT</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 rounded-full bg-purple-500"></div>
                                    <span class="text-sm font-medium text-gray-700">Upay</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-900" data-mfs-balance data-provider="upay">3,000 BDT</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                        <h3 class="text-lg font-semibold text-gray-900 mb-6">Quick Actions</h3>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <button data-action="send-money" class="bg-gradient-to-br from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-xl p-4 text-white cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl">
                                <div class="flex flex-col items-center text-center">
                                    <div class="text-2xl mb-2">💸</div>
                                    <h4 class="font-semibold text-sm mb-1">Send Money</h4>
                                    <p class="text-xs opacity-90">Transfer to any MFS</p>
                                </div>
                            </button>
                            <button data-action="add-money" class="bg-gradient-to-br from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 rounded-xl p-4 text-white cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl">
                                <div class="flex flex-col items-center text-center">
                                    <div class="text-2xl mb-2">💰</div>
                                    <h4 class="font-semibold text-sm mb-1">Add Money</h4>
                                    <p class="text-xs opacity-90">Top up your wallet</p>
                                </div>
                            </button>
                            <button data-action="history" class="bg-gradient-to-br from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 rounded-xl p-4 text-white cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl">
                                <div class="flex flex-col items-center text-center">
                                    <div class="text-2xl mb-2">📊</div>
                                    <h4 class="font-semibold text-sm mb-1">History</h4>
                                    <p class="text-xs opacity-90">View transactions</p>
                                </div>
                            </button>
                            <button data-action="help" class="bg-gradient-to-br from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 rounded-xl p-4 text-white cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl">
                                <div class="flex flex-col items-center text-center">
                                    <div class="text-2xl mb-2">❓</div>
                                    <h4 class="font-semibold text-sm mb-1">Help</h4>
                                    <p class="text-xs opacity-90">Get support</p>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Transactions -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-semibold text-gray-900">Recent Transactions</h3>
                    <button class="text-primary-600 hover:text-primary-700 text-sm font-medium">View All</button>
                </div>

                <div class="space-y-4" data-transactions>
                    <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary-100 to-secondary-100 rounded-lg flex items-center justify-center">
                            <span class="text-lg">💰</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-medium text-gray-900">Added money from bKash</h4>
                                <span class="text-sm font-semibold text-green-600">+5,000 BDT</span>
                            </div>
                            <div class="flex items-center justify-between mt-1">
                                <div class="flex items-center space-x-2">
                                    <span class="text-xs text-gray-500">bKash</span>
                                    <span class="px-2 py-1 rounded-full text-xs font-medium text-green-600 bg-green-100">success</span>
                                </div>
                                <span class="text-xs text-gray-500">2h ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary-100 to-secondary-100 rounded-lg flex items-center justify-center">
                            <span class="text-lg">💸</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-medium text-gray-900">Sent to Nagad user</h4>
                                <span class="text-sm font-semibold text-red-600">-1,500 BDT</span>
                            </div>
                            <div class="flex items-center justify-between mt-1">
                                <div class="flex items-center space-x-2">
                                    <span class="text-xs text-gray-500">Nagad</span>
                                    <span class="px-2 py-1 rounded-full text-xs font-medium text-green-600 bg-green-100">success</span>
                                </div>
                                <span class="text-xs text-gray-500">5h ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-24 bg-gradient-to-br from-white via-gray-50 to-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-20">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">Why Choose Probaho?</h2>
                <p class="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">We're solving the fragmentation problem in Bangladesh's mobile financial services ecosystem</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 to-secondary-50/50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="relative">
                        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Unified Wallet</h3>
                        <p class="text-gray-600 leading-relaxed">Consolidate all your MFS balances in one secure place</p>
                    </div>
                </div>
                
                <div class="group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 to-secondary-50/50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="relative">
                        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Instant Transfers</h3>
                        <p class="text-gray-600 leading-relaxed">Send money to any MFS in seconds, not hours</p>
                    </div>
                </div>
                
                <div class="group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 to-secondary-50/50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="relative">
                        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bank-Grade Security</h3>
                        <p class="text-gray-600 leading-relaxed">Your funds are protected by partner bank custody</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Credentials -->
    <section class="py-12 bg-gradient-to-r from-primary-600 to-secondary-600 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-2xl font-bold mb-4">Demo Credentials</h3>
            <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 max-w-md mx-auto">
                <div class="space-y-2">
                    <p><strong>Phone:</strong> 01712345678</p>
                    <p><strong>PIN:</strong> 1234</p>
                </div>
                <p class="text-sm mt-4 opacity-90 mb-4">Use these credentials to test the application</p>
                <button id="demo-login" class="bg-white text-primary-600 hover:bg-gray-100 font-semibold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105">
                    🚀 Try Demo Login
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">P</span>
                    </div>
                    <span class="text-xl font-bold">Probaho</span>
                </div>
                <p class="text-gray-400 mb-4">Your Money, Your Control</p>
                <p class="text-sm text-gray-500">© 2024 Probaho Team. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced Probaho Application
        class ProbahoApp {
            constructor() {
                this.currentUser = null;
                this.isAuthenticated = false;
                this.baseURL = window.location.origin;
                this.init();
            }

            async init() {
                this.setupEventListeners();
                await this.checkAuthentication();
                this.loadDashboardData();
                this.setupAnimations();
            }

            setupEventListeners() {
                // Navigation links
                const links = document.querySelectorAll('a[href^="/"]');
                links.forEach(link => {
                    link.addEventListener('click', (e) => this.handleNavigation(e, link));
                });

                // Quick action buttons
                const quickActions = document.querySelectorAll('[data-action]');
                quickActions.forEach(button => {
                    button.addEventListener('click', (e) => this.handleQuickAction(e, button));
                });

                // Demo login button
                const demoLoginBtn = document.getElementById('demo-login');
                if (demoLoginBtn) {
                    demoLoginBtn.addEventListener('click', () => this.demoLogin());
                }
            }

            async handleNavigation(e, link) {
                e.preventDefault();
                const href = link.getAttribute('href');
                
                if (href === '/login') {
                    window.location.href = '/login.html';
                } else if (href === '/signup') {
                    window.location.href = '/signup.html';
                } else if (href === '/add-money') {
                    if (this.isAuthenticated) {
                        window.location.href = '/add-money.html';
                    } else {
                        this.showLoginPrompt();
                    }
                } else if (href === '/send-money') {
                    if (this.isAuthenticated) {
                        window.location.href = '/send-money.html';
                    } else {
                        this.showLoginPrompt();
                    }
                } else {
                    this.showComingSoon();
                }
            }

            async handleQuickAction(e, button) {
                e.preventDefault();
                const action = button.getAttribute('data-action');
                
                if (!this.isAuthenticated) {
                    this.showLoginPrompt();
                    return;
                }

                switch (action) {
                    case 'send-money':
                        window.location.href = '/send-money.html';
                        break;
                    case 'add-money':
                        window.location.href = '/add-money.html';
                        break;
                    case 'history':
                        this.showTransactionHistory();
                        break;
                    case 'help':
                        this.showHelp();
                        break;
                }
            }

            async checkAuthentication() {
                try {
                    const token = localStorage.getItem('probaho_token');
                    if (token) {
                        const response = await fetch(`${this.baseURL}/api/user/profile`, {
                            headers: {
                                'Authorization': `Bearer ${token}`
                            }
                        });
                        
                        if (response.ok) {
                            this.currentUser = await response.json();
                            this.isAuthenticated = true;
                            this.updateUIForAuthenticatedUser();
                        } else {
                            localStorage.removeItem('probaho_token');
                        }
                    }
                } catch (error) {
                    console.log('Authentication check failed:', error);
                }
            }

            async loadDashboardData() {
                if (!this.isAuthenticated) return;

                try {
                    // Load wallet balance
                    const balanceResponse = await fetch(`${this.baseURL}/api/wallet/balance`);
                    if (balanceResponse.ok) {
                        const balanceData = await balanceResponse.json();
                        this.updateWalletBalance(balanceData);
                    }

                    // Load transactions
                    const transactionsResponse = await fetch(`${this.baseURL}/api/transactions`);
                    if (transactionsResponse.ok) {
                        const transactions = await transactionsResponse.json();
                        this.updateTransactionHistory(transactions);
                    }
                } catch (error) {
                    console.log('Failed to load dashboard data:', error);
                }
            }

            updateWalletBalance(data) {
                const balanceElement = document.querySelector('[data-balance]');
                if (balanceElement) {
                    balanceElement.textContent = `${data.totalBalance.toLocaleString()} ${data.currency}`;
                }

                // Update MFS balances
                const mfsBalances = document.querySelectorAll('[data-mfs-balance]');
                mfsBalances.forEach(element => {
                    const provider = element.getAttribute('data-provider');
                    const mfsData = data.mfsBalances.find(mfs => mfs.provider.toLowerCase() === provider.toLowerCase());
                    if (mfsData) {
                        element.textContent = `${mfsData.balance.toLocaleString()} ${data.currency}`;
                    }
                });
            }

            updateTransactionHistory(transactions) {
                const container = document.querySelector('[data-transactions]');
                if (!container) return;

                if (transactions.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-8">
                            <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl text-gray-400">📊</span>
                            </div>
                            <h4 class="text-gray-500 font-medium mb-2">No transactions yet</h4>
                            <p class="text-sm text-gray-400">Your transaction history will appear here</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = transactions.slice(0, 5).map(transaction => `
                    <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary-100 to-secondary-100 rounded-lg flex items-center justify-center">
                            <span class="text-lg">${this.getTransactionIcon(transaction.type)}</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="text-sm font-medium text-gray-900">${transaction.description}</h4>
                                <span class="text-sm font-semibold ${transaction.type === 'credit' ? 'text-green-600' : 'text-red-600'}">
                                    ${transaction.type === 'credit' ? '+' : '-'}${transaction.amount.toLocaleString()} ${transaction.currency}
                                </span>
                            </div>
                            <div class="flex items-center justify-between mt-1">
                                <div class="flex items-center space-x-2">
                                    <span class="text-xs text-gray-500">${transaction.provider}</span>
                                    <span class="px-2 py-1 rounded-full text-xs font-medium ${this.getStatusColor(transaction.status)}">
                                        ${transaction.status}
                                    </span>
                                </div>
                                <span class="text-xs text-gray-500">${this.formatTimeAgo(transaction.timestamp)}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            getTransactionIcon(type) {
                return type === 'credit' ? '💰' : '💸';
            }

            getStatusColor(status) {
                switch (status) {
                    case 'success': return 'text-green-600 bg-green-100';
                    case 'pending': return 'text-yellow-600 bg-yellow-100';
                    case 'failed': return 'text-red-600 bg-red-100';
                    default: return 'text-gray-600 bg-gray-100';
                }
            }

            formatTimeAgo(timestamp) {
                const now = new Date();
                const time = new Date(timestamp);
                const diffInHours = Math.floor((now - time) / (1000 * 60 * 60));
                
                if (diffInHours < 1) return 'Just now';
                if (diffInHours < 24) return `${diffInHours}h ago`;
                const diffInDays = Math.floor(diffInHours / 24);
                return `${diffInDays}d ago`;
            }

            updateUIForAuthenticatedUser() {
                // Update user info in header
                const userElements = document.querySelectorAll('[data-user-name]');
                userElements.forEach(element => {
                    element.textContent = this.currentUser.name;
                });

                const phoneElements = document.querySelectorAll('[data-user-phone]');
                phoneElements.forEach(element => {
                    element.textContent = this.currentUser.phone;
                });

                // Show authenticated content
                const authElements = document.querySelectorAll('[data-auth="true"]');
                authElements.forEach(element => {
                    element.style.display = 'block';
                });

                const guestElements = document.querySelectorAll('[data-auth="false"]');
                guestElements.forEach(element => {
                    element.style.display = 'none';
                });
            }

            async demoLogin() {
                try {
                    const response = await fetch(`${this.baseURL}/api/auth/login`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            phone: '01712345678',
                            pin: '1234'
                        })
                    });

                    if (response.ok) {
                        const data = await response.json();
                        localStorage.setItem('probaho_token', data.token);
                        this.currentUser = data.user;
                        this.isAuthenticated = true;
                        this.updateUIForAuthenticatedUser();
                        await this.loadDashboardData();
                        this.showSuccess('Login successful! Welcome to Probaho.');
                    } else {
                        this.showError('Login failed. Please try again.');
                    }
                } catch (error) {
                    this.showError('Login failed. Please check your connection.');
                }
            }

            showLoginPrompt() {
                this.showModal('Login Required', 'Please log in to access this feature.', [
                    { text: 'Login', action: () => window.location.href = '/login.html', primary: true },
                    { text: 'Cancel', action: () => this.closeModal() }
                ]);
            }

            showComingSoon() {
                this.showModal('Coming Soon', 'This feature is currently under development and will be available soon!', [
                    { text: 'OK', action: () => this.closeModal(), primary: true }
                ]);
            }

            showTransactionHistory() {
                this.showModal('Transaction History', 'View your complete transaction history.', [
                    { text: 'View All', action: () => { this.closeModal(); window.location.href = '/history.html'; }, primary: true },
                    { text: 'Close', action: () => this.closeModal() }
                ]);
            }

            showHelp() {
                this.showModal('Help & Support', 'Need assistance? We\'re here to help!', [
                    { text: 'Contact Support', action: () => { this.closeModal(); window.location.href = '/help.html'; }, primary: true },
                    { text: 'Close', action: () => this.closeModal() }
                ]);
            }

            showModal(title, message, buttons = []) {
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
                modal.innerHTML = `
                    <div class="bg-white rounded-2xl p-6 max-w-md w-full transform transition-all">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">${title}</h3>
                        <p class="text-gray-600 mb-6">${message}</p>
                        <div class="flex space-x-3 justify-end">
                            ${buttons.map(btn => `
                                <button class="px-4 py-2 rounded-lg font-medium transition-colors ${btn.primary ? 'bg-primary-600 text-white hover:bg-primary-700' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}">
                                    ${btn.text}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;

                // Add event listeners to buttons
                buttons.forEach((btn, index) => {
                    const button = modal.querySelectorAll('button')[index];
                    button.addEventListener('click', btn.action);
                });

                document.body.appendChild(modal);
                this.currentModal = modal;

                // Animate in
                setTimeout(() => {
                    modal.querySelector('.bg-white').style.transform = 'scale(1)';
                }, 10);
            }

            closeModal() {
                if (this.currentModal) {
                    this.currentModal.remove();
                    this.currentModal = null;
                }
            }

            showSuccess(message) {
                this.showToast(message, 'success');
            }

            showError(message) {
                this.showToast(message, 'error');
            }

            showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transform transition-all duration-300 ${
                    type === 'success' ? 'bg-green-500 text-white' : 
                    type === 'error' ? 'bg-red-500 text-white' : 
                    'bg-blue-500 text-white'
                }`;
                toast.textContent = message;

                document.body.appendChild(toast);

                // Animate in
                setTimeout(() => {
                    toast.style.transform = 'translateX(0)';
                }, 10);

                // Auto remove
                setTimeout(() => {
                    toast.style.transform = 'translateX(100%)';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }

            setupAnimations() {
                // Add intersection observer for scroll animations
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-fade-in');
                        }
                    });
                });

                document.querySelectorAll('section').forEach(section => {
                    observer.observe(section);
                });
            }
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.probahoApp = new ProbahoApp();
        });
    </script>
</body>
</html>