(()=>{var e={};e.id=375,e.ids=[375],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2049:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(9441),a=s(1498),n=s(6580),i=s.n(n),o=s(5511),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["add-money",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7257)),"/Users/meheduzzaman/Desktop/Probaho/apps/web/src/app/add-money/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6253)),"/Users/meheduzzaman/Desktop/Probaho/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/meheduzzaman/Desktop/Probaho/apps/web/src/app/add-money/page.tsx"],u="/add-money/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/add-money/page",pathname:"/add-money",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9998:(e,t,s)=>{Promise.resolve().then(s.bind(s,3465))},6147:(e,t,s)=>{Promise.resolve().then(s.bind(s,5089)),Promise.resolve().then(s.bind(s,9433))},1126:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9489,23)),Promise.resolve().then(s.t.bind(s,6225,23)),Promise.resolve().then(s.t.bind(s,5964,23)),Promise.resolve().then(s.t.bind(s,5804,23)),Promise.resolve().then(s.t.bind(s,7255,23)),Promise.resolve().then(s.t.bind(s,1021,23))},3465:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(7685),a=s(3810),n=s(2335),i=s(7986),o=s(5526);let l={bkash:{min:10,max:5e4,daily:1e5,prefix:"01",length:11},nagad:{min:10,max:4e4,daily:8e4,prefix:"01",length:11},rocket:{min:10,max:3e4,daily:6e4,prefix:"018",length:11},upay:{min:10,max:25e3,daily:5e4,prefix:"01",length:11}},d=[{id:"bkash",name:"bKash",color:"bg-pink-50 hover:bg-pink-100",selectedColor:"bg-pink-100",borderColor:"border-pink-500"},{id:"nagad",name:"Nagad",color:"bg-orange-50 hover:bg-orange-100",selectedColor:"bg-orange-100",borderColor:"border-orange-500"},{id:"rocket",name:"Rocket",color:"bg-blue-50 hover:bg-blue-100",selectedColor:"bg-blue-100",borderColor:"border-blue-500"},{id:"upay",name:"Upay",color:"bg-purple-50 hover:bg-purple-100",selectedColor:"bg-purple-100",borderColor:"border-purple-500"}],c=()=>`TXN${Date.now()}${Math.random().toString(36).substring(2,7)}`.toUpperCase(),u=()=>{let[e,t]=(0,a.useState)("method"),[s,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),P=(0,i.useRouter)(),S=e=>{if(h(""),"method"===e)return!!g||(h("Please select a payment method"),!1);if("details"===e){let e=Number(s),t=l[g];return!s||isNaN(e)?(h("Please enter a valid amount"),!1):e<t.min?(h(`Minimum amount is ${t.min} BDT`),!1):e>t.max?(h(`Maximum amount is ${t.max.toLocaleString()} BDT`),!1):f?f.startsWith(t.prefix)?f.length===t.length||(h(`${g} number should be ${t.length} digits`),!1):(h(`${g} number should start with ${t.prefix}`),!1):(h(`Please enter your ${g} account number`),!1)}return"confirm"===e&&(!!v&&6===v.length||(h("Please enter the 6-digit OTP"),!1))};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add Money to Wallet"}),(0,r.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[r.jsx("div",{className:"flex items-center mb-8",children:["method","details","confirm"].map((t,s)=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:`
                flex items-center justify-center w-8 h-8 rounded-full 
                ${e===t?"bg-blue-600 text-white":e>t?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}
              `,children:e>t?r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s+1}),s<2&&r.jsx("div",{className:`w-full h-1 mx-2 ${e>t?"bg-green-500":"bg-gray-200"}`})]},t))}),"method"===e&&(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-4",children:"Select Payment Method"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:d.map(e=>(0,r.jsxs)("button",{onClick:()=>{h(""),b(e.id)},disabled:x,className:`relative flex items-center justify-center p-4 rounded-lg border-2 transition-all duration-200
              ${g===e.id?e.selectedColor+" "+e.borderColor:"border-gray-200 "+e.color}
            `,children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(o.Z,{provider:e.id,className:"mx-auto mb-2"}),r.jsx("span",{className:"block text-sm font-medium text-gray-700",children:e.name})]}),g===e.id&&r.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},e.id))})]}),"details"===e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("button",{onClick:()=>t("method"),className:"text-gray-600 hover:text-gray-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("h2",{className:"text-lg font-medium text-gray-700",children:"Enter Payment Details"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"account",className:"block text-sm font-medium text-gray-700 mb-1",children:[g?.toUpperCase()," Account Number"]}),r.jsx("input",{type:"tel",id:"account",value:f,onChange:e=>{h(""),y(e.target.value.replace(/\D/g,""))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter your ${g} number`,maxLength:11,disabled:x}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Format: ",l[g].prefix,"XXXXXXXX"]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (BDT)"}),r.jsx("input",{type:"number",id:"amount",value:s,onChange:e=>{h(""),u(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount",min:l[g].min,max:l[g].max,disabled:x})]})]})]}),"confirm"===e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("button",{onClick:()=>t("details"),className:"text-gray-600 hover:text-gray-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("h2",{className:"text-lg font-medium text-gray-700",children:"Confirm Payment"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Transaction ID"}),r.jsx("span",{className:"font-medium",children:j})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Method"}),r.jsx("span",{className:"font-medium",children:d.find(e=>e.id===g)?.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Account"}),r.jsx("span",{className:"font-medium",children:f})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Amount"}),(0,r.jsxs)("span",{className:"font-medium",children:[Number(s).toLocaleString()," BDT"]})]})]})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter OTP"}),r.jsx("input",{type:"text",id:"otp",value:v,onChange:e=>{h(""),w(e.target.value.replace(/\D/g,""))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit OTP",maxLength:6,disabled:x}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Please enter the OTP sent to your ",g," account"]})]})]}),m&&r.jsx("p",{className:"mt-4 text-sm text-red-600",children:m}),(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:["confirm"===e?r.jsx("button",{onClick:()=>{try{if(!S("confirm"))return;p(!0);let e=Number(s),t=n.t.getDailyStats(),r=l[g];if(t.received+e>r.daily){h(`Daily deposit limit (${r.daily.toLocaleString()} BDT) exceeded for ${g}`),p(!1);return}setTimeout(()=>{let t=setTimeout(()=>{try{n.t.addTransaction({userId:"1",type:"credit",amount:e,currency:"BDT",status:"success",description:`Added money from ${d.find(e=>e.id===g)?.name}`,mfsProvider:g,account:f,note:`TxnID: ${j}`}),u(""),h(""),b(""),y(""),w(""),N(""),P.push("/")}catch(e){console.error("Transaction failed:",e),h("Transaction failed. Please try again.")}finally{p(!1)}},1500);return()=>clearTimeout(t)},1500)}catch(e){h("Something went wrong. Please try again."),console.error(e)}finally{p(!1)}},disabled:x,className:`w-full py-3 px-4 rounded-md text-white font-medium transition-colors duration-200
                ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
              `,children:x?"Processing...":"Confirm Payment"}):r.jsx("button",{onClick:()=>{if(S(e)){if("method"===e)t("details");else if("details"===e){let e=c();N(e),t("confirm"),console.log(`OTP sent to ${f} for transaction ${e}`)}}},disabled:x,className:`w-full py-3 px-4 rounded-md text-white font-medium transition-colors duration-200
                ${g?x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}
              `,children:x?"Processing...":"Continue"}),r.jsx("button",{onClick:()=>P.push("/"),disabled:x,className:"w-full py-3 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"})]}),(0,r.jsxs)("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Important Notes:"}),r.jsx("ul",{className:"text-sm text-gray-600 list-disc pl-5 space-y-1",children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("li",{children:["Selected Provider: ",d.find(e=>e.id===g)?.name]}),(0,r.jsxs)("li",{children:["Minimum amount: ",l[g].min.toLocaleString()," BDT"]}),(0,r.jsxs)("li",{children:["Maximum amount: ",l[g].max.toLocaleString()," BDT"]}),(0,r.jsxs)("li",{children:["Daily deposit limit: ",l[g].daily.toLocaleString()," BDT"]})]}):r.jsx("li",{children:"Please select a payment method to see limits"})})]})]})]})}},5526:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(7685),a=s(4950),n=s.n(a);let i=({provider:e,size:t="md",className:s=""})=>r.jsx("div",{className:`relative ${{sm:"w-[80px] h-8",md:"w-[120px] h-10",lg:"w-[160px] h-12"}[t]} ${s}`,children:r.jsx(n(),{src:`/images/mfs/${e}.svg`,alt:`${e.toUpperCase()} Logo`,fill:!0,className:"object-contain",priority:!0})})},5089:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>i,useAuth:()=>o});var r=s(7685),a=s(3810);let n=(0,a.createContext)(void 0);function i({children:e}){let[t,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),l=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=setTimeout(()=>{o(!1)},100);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{function e(){l.current&&(window.clearTimeout(l.current),l.current=null)}function s(){e(),t&&(l.current=window.setTimeout(()=>{d()},6e4))}function r(){t&&s()}let a=["mousemove","mousedown","keydown","touchstart","scroll"];return a.forEach(e=>window.addEventListener(e,r)),t&&s(),()=>{a.forEach(e=>window.removeEventListener(e,r)),e()}},[t]);let d=()=>{s(null)};return r.jsx(n.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:i,login:(e,t)=>{s(e)},logout:d},children:e})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2335:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});let r={wallet:"probaho_wallet",topups:"probaho_topups",transactions:"probaho_transactions",user:"probaho_user",settings:"probaho_settings"};class a{constructor(){this.subscribers={},this.isClient=!1,this.isClient&&!this.getWallet()&&this.setWallet({id:"1",userId:"1",balance:0,currency:"BDT",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}static getInstance(){return a.instance||(a.instance=new a),a.instance}subscribe(e,t){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),()=>this.unsubscribe(e,t)}unsubscribe(e,t){this.subscribers[e]=this.subscribers[e]?.filter(e=>e!==t)||[]}notify(e,t){this.subscribers[e]?.forEach(e=>e(t))}getWallet(){if(!this.isClient)return null;let e=localStorage.getItem(r.wallet);return e?JSON.parse(e):null}setWallet(e){this.isClient&&(localStorage.setItem(r.wallet,JSON.stringify(e)),this.notify("wallet",e),window.dispatchEvent(new CustomEvent("walletUpdated",{detail:e})))}updateWalletBalance(e,t="credit"){if(!this.isClient)return null;let s=this.getWallet();if(!s)return null;let r="credit"===t?Number(s.balance||0)+Number(e):Number(s.balance||0)-Number(e),a={...s,balance:r,updatedAt:new Date().toISOString()};return this.setWallet(a),a}getTransactions(){let e=localStorage.getItem(r.transactions);return e?JSON.parse(e):[]}addTransaction(e){let t=this.getTransactions(),s={...e,id:`TXN_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},a=[s,...t];return localStorage.setItem(r.transactions,JSON.stringify(a)),this.notify("transactions",a),"success"===s.status&&this.updateWalletBalance(s.amount,s.type),s}getDailyStats(){let e=this.getTransactions(),t=new Date,s=e.filter(e=>new Date(e.createdAt).toDateString()===t.toDateString());return{sent:s.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0),received:s.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0),transactions:s.length}}clearAllData(){Object.values(r).forEach(e=>localStorage.removeItem(e)),window.dispatchEvent(new Event("storage"))}}let n=a.getInstance()},4482:(e,t,s)=>{"use strict";e.exports=s(943).vendored.contexts.RouterContext},7986:(e,t,s)=>{e.exports=s(7435)},7257:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(599).createProxy)(String.raw`/Users/meheduzzaman/Desktop/Probaho/apps/web/src/app/add-money/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},6253:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>m,viewport:()=>h});var r=s(6491),a=s(1846),n=s.n(a);s(5556);var i=s(1801),o=s(599);let l=(0,o.createProxy)(String.raw`/Users/meheduzzaman/Desktop/Probaho/apps/web/src/contexts/AuthContext.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let u=(0,o.createProxy)(String.raw`/Users/meheduzzaman/Desktop/Probaho/apps/web/src/contexts/AuthContext.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Users/meheduzzaman/Desktop/Probaho/apps/web/src/contexts/AuthContext.tsx#useAuth`);let m={title:"Probaho - Cross-MFS Unified Wallet",description:"Your Money, Your Control. Unified wallet for seamless cross-MFS transfers in Bangladesh.",keywords:"mobile financial services, bKash, Rocket, Nagad, digital wallet, Bangladesh fintech",authors:[{name:"Probaho Team"}],metadataBase:new URL("http://localhost:3000"),openGraph:{title:"Probaho - Cross-MFS Unified Wallet",description:"Your Money, Your Control. Unified wallet for seamless cross-MFS transfers in Bangladesh.",type:"website",locale:"en_US"},twitter:{card:"summary_large_image",title:"Probaho - Cross-MFS Unified Wallet",description:"Your Money, Your Control. Unified wallet for seamless cross-MFS transfers in Bangladesh."},robots:{index:!0,follow:!0}},h={width:"device-width",initialScale:1,themeColor:"#2563eb"};function x({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:(0,r.jsxs)(u,{children:[r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50",children:e}),r.jsx(i.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#22c55e"}},error:{style:{background:"#ef4444"}}}})]})})})}},5556:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[369,938,950],()=>s(2049));module.exports=r})();