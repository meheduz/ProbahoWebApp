(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{2964:function(e,t,r){Promise.resolve().then(r.bind(r,1288))},1288:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(7573),o=r(7653),s=r(2859);function a(){let e=(0,s.useRouter)(),[t,r]=(0,o.useState)("Confirming payment...");return(0,o.useEffect)(()=>{let t=new URLSearchParams(window.location.search),n=t.get("sessionId")||"",o=t.get("tx")||"",s=t.get("provider")||"unknown",a=Number(t.get("amount")||"0");t.get("sig");try{let t=localStorage.getItem("probaho_topups"),c=t?JSON.parse(t):[];c.unshift({id:o,sessionId:n,provider:s,amount:a,status:"success",createdAt:new Date().toISOString()}),localStorage.setItem("probaho_topups",JSON.stringify(c));try{let e=localStorage.getItem("probaho_wallet"),t=e?JSON.parse(e):{id:"1",userId:"1",balance:0,currency:"BDT"},r=Number(t.balance||0)+Number(a||0),n={...t,balance:r};localStorage.setItem("probaho_wallet",JSON.stringify(n))}catch(e){}r("Payment confirmed! Redirecting..."),setTimeout(()=>e.push("/history"),1200)}catch(e){r("Failed to record payment. Please contact support.")}},[e]),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"This simulates server confirmation for gateway payment."})]})})}},8294:function(e,t,r){"use strict";var n=r(7653),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:s,_owner:c.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},7573:function(e,t,r){"use strict";e.exports=r(8294)},2859:function(e,t,r){e.exports=r(2988)}},function(e){e.O(0,[293,16,744],function(){return e(e.s=2964)}),_N_E=e.O()}]);